一个为 SillyTavern 设计的、实验性的、有状态的章节式叙事管理插件。

---

**⚠️ 注意：本项目目前处于早期开发阶段。主要目标是验证核心逻辑并收集第一批Bug和用户反馈。在使用过程中可能会遇到问题，感谢您的理解与帮助。**

## 核心概念

本插件通过一个“导演团队”（多个专门的AI Agent）在后台工作，将一次性的聊天转变为一个有记忆、有发展、分章节的连续故事。插件会将故事的所有状态（如角色关系、任务线等）直接保存在您的聊天记录中，以确保故事的持久性。

## 快速上手指南

#### 第一步：API 配置

1.  在 SillyTavern 顶栏找到新的指南针图标 (🧭)，点击打开插件面板。
2.  进入 **设置 (Settings)** 标签页。
3.  **核心大脑 AI**: 填入用于复杂后台任务（如写剧本）的 API URL 和 Key。推荐使用能力较强的模型。
4.  **回合裁判 AI**: 填入用于实时指导 AI 回复的 API URL 和 Key。推荐使用响应速度快的模型。**如果此项留空，将自动使用核心大脑的配置。**
5.  点击 **保存并应用所有设置**。
6.  强烈建议点击两个 **测试连接** 按钮，确保您的 API 配置正确无误。

#### 第二步：开启故事

1.  完成 API 配置后，切换到 **叙事罗盘 (Narrative Compass)** 标签页。
2.  确保 **启用叙事流引擎** 开关是打开的。
3.  在一个全新的聊天中，点击 **开始新的叙事篇章**。
4.  插件会分析您的世界书，规划第一章，并自动生成开场白。
5.  之后，您就可以正常开始对话了。

## 功能面板说明

*   **监控面板 (Monitor Panel)**:
    *   **故事摘要**: AI 生成的、不断更新的全局故事梗概。
    *   **当前小章剧本**: 当前章节的目标、流程和关键节点。
    *   **建筑师的设计笔记**: AI 编剧对本章的创作思路和设计理念。
    *   **故事线网络**: 追踪所有主线、支线和角色个人任务的进展。
    *   **角色关系图谱**: 可视化主角与其他角色的好感度变化。

*   **叙事罗盘 (Narrative Compass)**:
    *   **启用引擎开关**: 插件的总开关。
    *   **章节转换时询问焦点**: 开启后，每章结束时会弹窗让你决定下一章的主题。关闭则由 AI 自主决定。
    *   **开启回合裁判模式**: 开启后，AI 的每一步回复都会被严格指导。关闭则给予 AI 更大的自由发挥空间。
    *   **开始/转换按钮**: 用于开始新故事或在故事中途手动强制结束当前章节，进入下一章。

反馈BUG是现阶段最重要的部分。如果您遇到任何问题，或者关于目前体系有什么建议，请在discord社区@我，我都会看。